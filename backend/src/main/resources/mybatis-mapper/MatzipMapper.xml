<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cf.spacetaste.backend.mapper.MatzipMapper">

    <insert id="create" useGeneratedKeys="true" keyProperty="matzip.id" keyColumn="matzip_id">
        INSERT INTO
            matzip(name, address, created_by, updated_by)
        VALUES
            (#{matzip.name}, #{matzip.address}, #{user.id}, #{user.id})
    </insert>

    <update id="update">
        UPDATE matzip
        SET
            name=#{matzip.name},
            address=#{matzip.address},
            updated_by=#{user.id}
        WHERE matzip_id=#{matzip.id} AND deleted_by IS NULL
    </update>

</mapper>